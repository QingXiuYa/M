webpackJsonp([3],{"3Cih":function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("4YfN"),o=e.n(s),n=e("9rMa"),r=e("DMPO"),c={computed:o()({},Object(n.d)({SerialID:function(i){return i.img.imgTemplateSerialID},ImageID:function(i){return i.img.imgTemplateId},showIndex:function(i){return i.img.showIndex},showImgData:function(i){return i.img.showImgData}}),{swiperOption:function(){return{lazy:!0}},swipe:function(){return this.$refs.mySwiper.swiper}}),methods:{hideImg:function(){this.$store.commit("isShowImg",!1)}},components:{swiper:r.swiper,swiperSlide:r.swiperSlide},mounted:function(){console.log(this.showIndex),this.showIndex+1<30?this.$store.dispatch("getShowImg",{SerialID:this.SerialID,ImageID:this.ImageID,page:1,size:30}):(console.log(this.showIndex),console.log(Math.ceil(this.showIndex/30)),console.log(30*Math.ceil(this.showIndex/30)),this.$store.dispatch("getShowImg",{SerialID:this.SerialID,ImageID:this.ImageID,page:1,size:30*Math.ceil((this.showIndex+1)/30)}),this.page=this.showIndex),this.swipe.slideTo(this.showIndex,0,!1)}},a={render:function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"img",on:{click:this.hideImg}},[t("swiper",{ref:"mySwiper",staticClass:"swiper-img",attrs:{options:this.swiperOption}},this._l(this.showImgData,function(i,e){return t("swiper-slide",{key:e},[t("img",{staticClass:"swiper-lazy",attrs:{"data-src":i.Url.replace("{0}",i.LowSize)}})])}))],1)},staticRenderFns:[]};var m=e("C7Lr")(c,a,!1,function(i){e("48Cx")},"data-v-b67a62ae",null).exports,g={computed:o()({},Object(n.d)({isShowImgList:function(i){return i.img.isShowImgList},SerialID:function(i){return i.img.imgTemplateSerialID},ImageID:function(i){return i.img.imgTemplateId},imgList:function(i){return i.img.showImgListData},page:function(i){return i.img.page},isLoad:function(i){return i.img.isLoad}})),methods:{clickimg:function(i){this.$store.commit("isShowImg",!0),console.log(this.ImageID,i),this.$store.commit("showIndex",i)},scroll:function(i){var t=i.target.scrollTop,e=i.target.children[0].getBoundingClientRect().height;window.innerHeight+t>e-30&&(console.log("可以加载了！"),this.$store.commit("changeLoad",!0)),this.isLoad&&this.isLoad&&(this.$store.commit("addPage"),this.$store.dispatch("getShowImageList",{SerialID:this.SerialID,ImageID:this.ImageID,page:this.page,size:30}),this.$store.commit("changeLoad",!1))}},mounted:function(){this.$store.dispatch("getShowImageList",{SerialID:this.SerialID,ImageID:this.ImageID,page:1,size:30})}},l={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"img_list",on:{scroll:i.scroll}},[e("ul",i._l(i.imgList,function(t,s){return e("li",{key:s,attrs:{"data-id":i.ImageID+"_"+s}},[e("img",{style:{"background-image":"url("+t.Url.replace("{0}",t.HighSize)+")"},on:{click:function(t){i.clickimg(s)}}})])}))])},staticRenderFns:[]};var h=e("C7Lr")(g,l,!1,function(i){e("z3nb")},"data-v-2454bf78",null).exports,u={computed:o()({},Object(n.d)({img_list:function(i){return i.img.img_list},imgList:function(i){return i.img.imgList},color:function(i){return i.img.color},type:function(i){return i.img.type},isShowImg:function(i){return i.img.isShowImg},isShowImgList:function(i){return i.img.isShowImgList}})),methods:o()({},Object(n.b)({getImageList:"getImageList"}),{clickimg:function(i,t){this.$store.commit("isShowImg",!0),this.$store.commit("showIndex",t),this.$store.commit("imgTemplateId",i)},clickImgList:function(i){this.$store.commit("imgTemplateId",i),this.$store.commit("isShowImgList",!0)},toColor:function(i){this.$router.push({path:"/color",query:{id:i}})},toType:function(i){this.$router.push({path:"/type",query:{id:i}})}}),mounted:function(){this.getImageList(this.$route.query.id),this.$store.commit("imgTemplateSerialID",this.$route.query.id)},components:{ShowImg:m,ShowImgList:h}},I={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"car-img"},[e("div",{staticClass:"tit"},[e("p",[e("span",{on:{click:function(t){i.toColor(i.id)}}},[i._v(i._s(i.color))])]),i._v(" "),e("p",[e("span",{on:{click:function(t){i.toType(i.id)}}},[i._v(i._s(i.type))])])]),i._v(" "),e("ul",{staticClass:"img-list"},i._l(i.img_list,function(t,s){return e("li",{key:s},i._l(t.List,function(s,o){return e("aside",{key:o},[e("img",{style:{"background-image":"url("+s.Url.replace("{0}",s.LowSize)+")"},on:{click:function(e){i.clickimg(t.Id,o)}}}),i._v(" "),0==o?e("div",{on:{click:function(e){i.clickImgList(t.Id)}}},[e("p",[i._v(i._s(t.Name))]),i._v(" "),e("p",[i._v(i._s(t.Count)+"张>")])]):i._e()])}))})),i._v(" "),i.isShowImg?e("div",{staticClass:"show-img"},[e("ShowImg")],1):i._e(),i._v(" "),i.isShowImgList?e("div",{staticClass:"show_img_list"},[e("ShowImgList")],1):i._e()])},staticRenderFns:[]};var d=e("C7Lr")(u,I,!1,function(i){e("rVCB")},"data-v-618e01ba",null);t.default=d.exports},"48Cx":function(i,t){},rVCB:function(i,t){},z3nb:function(i,t){}});
//# sourceMappingURL=3.ac2ac2613497540ea1bd.js.map